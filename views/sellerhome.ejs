<!-- views/index.ejs -->

<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>UCART - Cart Your Happiness</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css" integrity="sha512-DTOQO9RWCH3ppGqcWaEA1BIZOC6xxalwEsw9c2QQeAIftl+Vegovlnee1c9QX4TctnWMn13TZye+giMm8e2LwA==" crossorigin="anonymous" referrerpolicy="no-referrer" />
    <link rel="stylesheet" href="/seller.css">
</head>
     
<body>

    <header>
        <div class="navbar">
            <div class="nav-logo border">
            <div class = "logo"></div>
            </div>
            <div class="nav-address border">
                <a href="/addproduct?sellerid=<%= sellerid %>">

                <p class="add-first">ADD </p>
                <div class="add-icon">
                    <i class="fa-solid fa-plus"></i>
                    <p class="add-second">Product</p>
                </div>
                </a>
            </div>
          <div class="nav-search">
            <select class="search-select">
                <option>All</option>
            </select>
            <input placeholder="Search UCART" class="search-input">
            <div class="search-icon">
                <i class="fa-solid fa-magnifying-glass"></i>
            </div>
          </div>

          <div class="nav-signin border">
            <a href="/home">
            <p><span>Logout</span></p>
            
        </a>
          </div>
          <div class="nav-return border">
            <p><span>Orders</span></p>
            
          </div>
          <div class="nav-cart border">
            <i class="fa-solid fa-user"></i>
            Profile
          </div>
        </div>
    </header>
    
    <div id="yourContainerId"></div>
    <script type="text/javascript">
        
        // Add this line for debugging
        const searchResultsContainer = document.getElementById('yourContainerId');
        let boxNumber
        let productBox
        <% if ( results.rows.length > 0) { %>
            <% results.rows.forEach((product, index) => { %>
               // Add this line for debugging
                 boxNumber = <%= index + 1 %>;
                 productBox = document.createElement('div');
                productBox.className = `box${boxNumber} box`;

                productBox.innerHTML = `
                    <div class="box-content">
                        <h2><%= product.CATAGORIES %></h2>
                        <div class="box-img" style="background-image: url('<%= product.IMAGE %>');"></div>
                        <h3><%= product.NAME %></h3>
                        <p>Price: <%= product.PRICE.toFixed(2) %></p>
                        <!-- Add other relevant product information -->
                          </div>
                `;
                searchResultsContainer.appendChild(productBox);
            <% }); %>
        <% } else { %>
            searchResultsContainer.innerHTML = '<p>No results found.</p>';
        <% } %>
    </script>
</body>
</html>
